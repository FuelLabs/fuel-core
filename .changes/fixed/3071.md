Use outputs instead of events to compress blocks